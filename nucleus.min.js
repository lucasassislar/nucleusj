function makeRandomString(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",a=0;e>a;a++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function nukePost(e,t,n,a){$.ajax({type:"POST",url:e,data:t,success:function(e){0==e.returnCode?n(e):a(e)},error:function(e){a(e)}})}function isnull(e){return null==e||void 0==e||""===e}function nukeStringToBoolean(e){if("string"==typeof e||e instanceof String)switch(e.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case null:return!1;default:return Boolean(e)}return e}function nukeValidateEmail(e){var t=/^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;return t.test(e)}function nukeGetUrlVars(){for(var e,t=[],n=window.location.href.slice(window.location.href.indexOf("?")+1).split("&"),a=0;a<n.length;a++)e=n[a].split("="),t.push(e[0]),t[e[0]]=e[1];return t}function nukeFormatDate(e,t){var n=e;return e instanceof Date||(n=new Date(e)),n.format(t)}function nukeParseDate(e){var t=e.split("/"),n=t[0],a=t[1],r=t[2];return new Date(r,a,n)}function nukeStringRemoveRepeatedChars(e){for(var t="",n=0;n<e.length;n++){var a=e[n];-1==t.indexOf(a)&&(t+=a)}return t}function nukeStringRemoveAllInstancesOff(e,t){for(var n="",a=0;a<e.length;a++){var r=e[a];-1==t.indexOf(r)&&(n+=r)}return n}function nukeRemoveMask(e,t){var n=t.replace(/\d+/g,""),a=nukeStringRemoveRepeatedChars(n);return nukeStringRemoveAllInstancesOff(e,a)}function nukeGetCleanJQuery(e){if("string"==typeof e){0!=e.indexOf("#")&&(e="#"+e);var t=$(e);return void 0==t.length||0==t.length?t:t[0]}return e instanceof jQuery?e:$(e)}function nukeGetCleanTextValue(e){var t=nukeGetCleanJQuery(e),n=t.value,a=$(t).data("mask");if(null!=a){var r=a.mask;n=nukeRemoveMask(n,r)}return n}function nukeSetUp(){__nukeOptions.clickSetRadio&&$(document).on("click",".nukeClickInput",function(){var e=$(this).parent(),t=e.find("input");t.prop("checked",!0)})}function nukeChangeState(e){e=nukeStringToBoolean(e),__nukeFormState=e,e?($(".nukeView").each(function(){$(this).show()}),$(".nukeEdit").each(function(){$(this).hide()})):($(".nukeView").each(function(){$(this).hide()}),$(".nukeEdit").each(function(){$(this).show()})),$(".nukeRead").each(function(){$(this).attr("readonly",e),$(this).attr("disabled",e)}),$(".nukeReadR").each(function(){$(this).attr("readonly",!e),$(this).attr("disabled",!e)})}function nukeRefresh(parentId){parentId="undefined"!=typeof parentId?parentId:document;var parent=nukeGetCleanJQuery(parentId),divs=$(parent).find("[nuke]");divs.each(function(i){var meself=$(this),att=meself.attr("nuke"),spllited=att.split(" ");if(0==att.indexOf("foreach")){var arrayName=spllited[1],myId=meself.attr("id");isnull(myId)&&(myId=makeRandomString(10),meself.attr("id",myId));var html;__nukeRanOnce?(html=__nukeDict[myId],isnull(html)&&(html=this.innerHTML,__nukeDict[myId]=html)):(html=this.innerHTML,__nukeDict[myId]=html),this.innerHTML="";var array;try{array=eval(arrayName)}catch(ex){return}for(i=0;i<array.length;i++){for(var element=array[i],thtml=html,start=0,index=0;index=thtml.indexOf("$",start),-1!=index;){var endIndex=thtml.indexOf("$",index+1),word=thtml.substring(index+1,endIndex),value=word;-1!=word.indexOf("__index")&&(value=value.replace("__index",i)),-1!=value.indexOf("@")?(value=value.replace("@","element."),value=eval(value)):value=eval("element."+value),thtml=thtml.replace("$"+word+"$",value)}meself.append(thtml)}nukeRefresh(meself)}else if(0==att.indexOf("exists")){var js=spllited[1];-1!=js.indexOf("isReadOnly")&&(js=js.replace("isReadOnly",__nukeFormState));var doExist=eval(js);doExist||meself.remove()}}),__nukeRanOnce=!0,nukeChangeState(__nukeFormState)}function nukePopulateForm(data,formId){var jform=$(formId);for(var name in data){var inputs=jform.find('[name="'+name+'"]');if(inputs.length>0){var value=eval("data."+name);value instanceof Date&&(value=value.format(dateMask));for(var i=0;i<inputs.length;i++){var inp=inputs[i];"div"==inp.localName?inp.innerHTML=value:"checkbox"==inp.type?$(inp).attr("checked",inp):inp.value=value}}}}function nukeGetFormData(formId){formId="undefined"!=typeof formId?formId:"document";for(var data={},jform=$(formId),inputs=jform.find("input"),i=0;i<inputs.length;i++){var input=inputs[i];if(input.id in nukeErrors)return!1;if("checkbox"==input.type)eval("data."+input.id+" = '"+$(input).prop("checked")+"'");else{var value=nukeGetCleanTextValue(input);eval("data."+input.id+" = '"+value+"'")}}return data}function nukeRegErrorCheck_Numeric(e,t,n){validateInput(e,t,n,function(e,t,n,a){var r=[];return val.match(/^\d+$/)||r.push("numeric"),e.length>=n&&r.push("small"),e.length<a&&r.push("big"),r})}function nukeRegErrorCheck_Text(e,t,n){validateInput(e,t,n,function(e,t,n,a){var r=[];return e.length>=n&&r.push("small"),e.length<a&&r.push("big"),r})}function nukeRegErrorCheck_Email(e,t,n){validateInput(e,t,n,function(e,t,n,a){var r=[];return nukeValidateEmail(e)||r.push("email"),e.length>=n&&r.push("small"),e.length<a&&r.push("big"),r})}function validateInput(e,t,n,a){t="undefined"!=typeof t?t:0,n="undefined"!=typeof t?n:99999,$(document).on("input",e,function(){var r=nukeGetCleanTextValue(e),i=$(e).parent(),u=e+"_erro",o=$(u)[0],d=a(r,i,t,n);0==d.length?(null!=o&&o.html(""),i.removeClass("has-error"),delete nukeErrors[e]):(null!=o&&(o.innerHTML=getErrorMsg(d)),i.addClass("has-error"),nukeErrors.push(e))})}function getErrorMsg(e){var t="";e.contains("email")&&(t+=",Texto digitado não é um email"),e.contains("numeric")&&(t+=",Letras não são permitidas"),e.contains("small")&&(t+=",Texto digitado é pequeno demais"),e.contains("big")&&(t+=",Texto digitado é muito grande"),0==t.indexOf(",")&&(t=t.substring(1));var n=t.lastIndexOf(",");return 0!=n&&t.replaceAt(n," e"),t}String.prototype.replaceAt=function(e,t){return this.substr(0,e)+t+this.substr(e+t.length)};var cpfMask="999.999.999-99",dateMask="dd/mm/yyyy",__nukeRanOnce,__nukeDict=[],__nukeOptions={};__nukeOptions.clickSetRadio=!0;var nukeErrors=[],__nukeFormState=!1,dateFormat=function(){var e=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,t=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,n=/[^-+\dA-Z]/g,a=function(e,t){for(e=String(e),t=t||2;e.length<t;)e="0"+e;return e};return function(r,i,u){var o=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(r)||/\d/.test(r)||(i=r,r=void 0),r=r?new Date(r):new Date,isNaN(r))throw SyntaxError("invalid date");i=String(o.masks[i]||i||o.masks["default"]),"UTC:"==i.slice(0,4)&&(i=i.slice(4),u=!0);var d=u?"getUTC":"get",s=r[d+"Date"](),l=r[d+"Day"](),m=r[d+"Month"](),c=r[d+"FullYear"](),f=r[d+"Hours"](),h=r[d+"Minutes"](),p=r[d+"Seconds"](),y=r[d+"Milliseconds"](),v=u?0:r.getTimezoneOffset(),k={d:s,dd:a(s),ddd:o.i18n.dayNames[l],dddd:o.i18n.dayNames[l+7],m:m+1,mm:a(m+1),mmm:o.i18n.monthNames[m],mmmm:o.i18n.monthNames[m+12],yy:String(c).slice(2),yyyy:c,h:f%12||12,hh:a(f%12||12),H:f,HH:a(f),M:h,MM:a(h),s:p,ss:a(p),l:a(y,3),L:a(y>99?Math.round(y/10):y),t:12>f?"a":"p",tt:12>f?"am":"pm",T:12>f?"A":"P",TT:12>f?"AM":"PM",Z:u?"UTC":(String(r).match(t)||[""]).pop().replace(n,""),o:(v>0?"-":"+")+a(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][s%10>3?0:(s%100-s%10!=10)*s%10]};return i.replace(e,function(e){return e in k?k[e]:e.slice(1,e.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(e,t){return dateFormat(this,e,t)};